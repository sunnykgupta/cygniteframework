<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>
    <body>
        <div>


        <section class="heading">
        <div class="container">
            <h2>Documentation</h2>

        </div>
    </section>

    <section class="section-list-content">
        <div class="container">
            <div class="menu">
                <!-- -->
                            <nav class="section-menu">
                                        <ul>
                                            <li> <h2>Introduction</h2></li>
                                            <li>    <ul>
                                                    <li><a href="/docs/introduction">Introduction</a></li>
                                                    <li><a href="/docs/quick">Quickstart</a></li>
                                                    <li><a href="/docs/contributing">Contributing</a></li>
                                                    </ul>
                                            </li>

                                            <li>Getting Started

                                                    <ul>
                                            <li><a href="/docs/installation">Controllers</a></li>
                                            <li><a href="/docs/configuration">Models</a></li>
                                            <li><a href="/docs/lifecycle">Views</a></li>
                                            <li><a href="/docs/routing">Routing</a></li>
                                            <li><a href="/docs/routing">Namespaces</a></li>
                                            </ul></li>

                                            <li> Libraries
                                            <ul>
                                            <li><a href="/docs/controllers">Encryption</a></li>
                                            <li><a href="/docs/errors">Errors &amp; Logging</a></li>
                                             <li><a href="/docs/errors">Form Builder</a></li>
                                             <li><a href="/docs/errors">Download</a></li>
                                             <li><a href="/docs/errors">Mailer</a></li>
                                              <li><a href="/docs/errors">Upload</a></li>
                                              <li><a href="/docs/errors">Input</a></li>
                                              <li><a href="/docs/errors">Cache</a></li>
                                              </ul></li>

                                               <li> Helpers
                                                   <ul>
                                               <li><a href="/docs/errors">Assets</a></li>
                                                 <li><a href="/docs/errors">Global</a></li>
                                                 <li><a href="/docs/errors">Profiler</a></li>
                                                 <li><a href="/docs/errors">Url</a></li>
                                                 <li><a href="/docs/errors">Validation</a></li>
                                            </ul></li>

                                            <li>Model & Database

                                            <ul>
                                            <li><a href="/docs/database">Basic Usage</a></li>
                                            <li><a href="/docs/queries">Query Builder</a></li>
                                            </ul></li>

                                            </ul>
                                    </nav>
            </div>


            <article class="section-body">
                <h1> URL Routing</h1>


                        <p><a name="routing-of-cygnite-framework"></a></p>

                        <h2>Routing</h2>
                        <p> Cygnite framework has powerful routing features which allow you various routing patterns. </p>
                        <p> The main features of router are -
                        <ul>
                            <li>i. Static Route Patterns </li>
                            <li>ii. Dynamic Route Patterns </li>
                            <li>iii. Optional Route Subpatterns</li>
                            <li> iv. GET, POST, PUT, DELETE, and OPTIONS request methods</li>
                              <li>v. Before Route Middlewares </li>
                              <li>vi. After Router Middleware (Finish Callback) </li>

                        </ul>

                      <h2>Where can I define my custom routing ? </h2>
                      <p> You can write your routing in apps/routerconfig.php as well as for restful routing in apps/router.php. Router supports clousers with callback. </p>

                        <h2>Route Patterns  </h2>
                        <p> Below are the routing patterns supported by router-
For example-

<pre class="code">
    \d+ = One or more digits (0-9)
    \w+ = One or more word characters (a-z 0-9 _)
    [a-z0-9_-]+ = One or more word characters (a-z 0-9 _) and the dash (-)
    .* = Any character (including /), zero or more
    [^/]+ = Any character but /, one or more
</pre>



                        <h2>Dynamic routing </h2>
<pre class="code">
   namespace Cygnite;

  $router = Cygnite::loader()->router;
  $GLOBALS['router'] = $router;

  $router->get('/hello/(\w+)', function($name) {
            echo 'Cygnite Framework welcome you  ' . htmlentities($name);
   });
</pre>
                        <p>Note: The leading / at the very beginning of a route pattern is not mandatory, but is recommended.</p>
                        <p>When multiple subpatterns are defined, they resulting route handling parameters are passed into the
                            route handling function in the order they are defined in:</p>
   <pre class="code">
   $router->get('/movies/(\d+)/photos/(\d+)', function($movieId, $photoId) {
         echo 'Movie #' . $movieId . ', photo #' . $photoId);
   });
</pre>

                          <h2>Optional Route Subpatterns</h2>
                        <p> Route subpatterns can be made optional by making the subpatterns optional by adding a ?
                            after them. Think of blog URLs in the form of /blog(/year)(/month)(/day)(/slug):</a>.
                        </p>
<pre class="code">
    $router->get('/blog(/\d+)?(/\d+)?(/\d+)?(/[a-z0-9_-]+)?', function($year = null, $month = null, $day = null, $slug = null) {
            if (!$year) { echo 'Blog overview'; return; }
            if (!$month) { echo 'Blog year overview'; return; }
            if (!$day) { echo 'Blog month overview'; return; }
            if (!$slug) { echo 'Blog day overview'; return; }
            echo 'Blogpost ' . htmlentities($slug) . ' detail';
    });
</pre>
                        <p> The code snippet above responds to the URLs /blog, /blog/year, /blog/year/month, /blog/year/month/day,
and /blog/year/month/day/slug. </p>
                        <p>Note: With optional parameters it is important that the leading / of the subpatterns is put inside the subpattern itself. Don't forget to set default values for the optional parameters.</p>
                        <p>
The code snipped above unfortunately also responds to URLs like /blog/foo and states that the overview needs to be shown -
which is incorrect. Optional subpatterns can be made successive by extending the parenthesized subpatterns so that they
contain the other optional subpatterns: The pattern should resemble /blog(/year(/month(/day(/slug)))) instead of the previous /blog(/year)(/month)(/day)(/slug):
                        </p>
                        <p>Note: It is highly recommended to always define successive optional parameters.</p>
                        <p>To make things complete use quantifiers to require the correct amount of numbers in the URL:</p>

<pre class="code">
    $router->get('/blog(/\d{4}(/\d{2}(/\d{2}(/[a-z0-9_-]+)?)?)?)?', function($year = null, $month = null, $day = null, $slug = null) {
                  // ...
        }
</pre>
                        <h2>Before Route Middlewares</h2>

  <p>Router supports Before Route Middlewares, which are executed before the route handling is processed.

Like route handling functions, you hook a handling function to a combination of one or more HTTP request methods and a specific route pattern.    </p>
<pre class="code">
    $router->before('GET|POST', '/admin/.*', function() {
        if (!isset($_SESSION['user'])) {
            \Cygnite\Helpers\Url::redirect_to('/auth/login');
            exit();
        }
    });
</pre>
  <p>Unlike route handling functions, more than one before route middleware is executed when more than one route match is found.
</p>
   <h2>After Router Middleware / Run Callback</h2>
                        <p> Run one (1) middleware function, name the After Router Middleware (in other projects sometimes referred to
                            as after app middlewares) after the routing was processed. Just pass it along the $router->run() function.
                            The run callback is route independent.

<pre class="code">
     $router->run(function() { â€¦ });
</pre>
Note: If the route handling function has exit()ed the run callback won't be run.

                    </article>
            <div class="clearfix"></div>
        </div>
    </section>



        </div>

        <style type="text/css">
.code { background: #e9e4e5;}
 .heading{padding:0.3em 0;overflow:hidden;}
 .heading h2{float:left;color:#fff;text-transform:uppercase;font-weight:300;font-size:1.4em;line-height:1.4em;text-shadow:1px 1px 4px #e21400;}
.heading .sponsor{float:right;color:#fff;margin-top:6px;}
.heading .sponsor img{margin-left:1em;}
.section-list-content{background-color:#f5f5f5;padding:2em 0;}
.section-list-content .section-body{width:600px;background-color:#fff;min-height:600px; float: left;
    margin-left: 10px;}
.section-menu{float:left;width:160px;background-color:#fff;padding:20px;font-size:0.9em;-webkit-box-shadow:2px 4px 1px #eeeeee;-moz-box-shadow:2px 4px 1px #eeeeee;box-shadow:2px 4px 1px #eeeeee;}
.section-menu ul{margin:0;padding:0;list-style-type:none;}
.section-menu ul li{margin:0;padding:0;}
.section-menu a{color:#5889C5;text-decoration:none;}
.section-menu a:hover{color:#37799A;text-decoration:underline;}
.section-menu>ul>li{padding-left:1em;background-repeat:no-repeat;background-position:0 5px;margin-bottom:2em;color:#555;}
.section-menu>ul ul{margin-top:0.2em;}
.section-body{font-size:15px;padding-bottom:1.5em;-webkit-box-shadow:2px 4px 1px #eeeeee;-moz-box-shadow:2px 4px 1px #eeeeee;box-shadow:2px 4px 1px #eeeeee;}
.section-body h2:before{display:block;content:"";height:100px;margin:-100px 0 0;}
.section-body>*{margin-left:20px;margin-right:20px;}
.section-body blockquote{background-color:#5889C5;color:#fff;margin:1em 0;padding:5px 20px;font-size:0.85em;background-image:url(../img/note.png);background-repeat:no-repeat;background-position:550px 10px;}
.section-body blockquote p{margin-right:40px;}
.section-body blockquote p code{background-color:#ff3d2a;color:#ffe5e2;}
.section-body blockquote a,.section-body blockquote a:visited{color:#fff;}
.section-body blockquote a:hover{color:#fff;}
.section-body pre{font-family:Monaco,Consolas,"Lucida Console",monospace;background-color:#4F80BC;
                                 padding:20px;font-size:0.7em;border:0;color:#FFF;line-height:1.9em;margin:1em 0;border-top:1px solid #eee;border-bottom:1px solid #eee;}
.section-body pre .pln{color:#e9e4e5;}
.section-body pre .str{color:#bcd42a;}
.section-body pre .kwd{color:#4bb1b1;}
.section-body pre .com{color:#888888;}
.section-body pre .typ{color:#ef7c61;}
.section-body pre .lit{color:#bcd42a;}
.section-body pre .pun,.section-body pre .opn,.section-body pre .clo{color:#ffffff;}
.section-body pre .tag{color:#4bb1b1;}
.section-body pre .atn{color:#ef7c61;}
.section-body pre .atv{color:#bcd42a;}
.section-body pre .dec,.section-body pre .var{color:#660066;}
.section-body pre .fun{color:#ff0000;}
.section-body pre code{font-family:Monaco,Consolas,"Lucida Console",monospace;}
.section-body p{line-height:1.6em;font-weight:300;}
.section-body p code{display:inline-block;font-size:0.75em;font-family:Monaco,Consolas,"Lucida Console",monospace;background-color:#eee;color:#555;padding:0em 0.6em;margin:0 0.2em;}
.section-body a{color:#5889C5;}
.section-body h2 a{opacity:0.2;text-decoration:none;padding-left:0.4em;}
.section-body h2 a:hover{opacity:1;}
.section-body h1{color:#555;}
.section-body h2,.section-body h3,.section-body h4,.section-body h5,.section-body h6{color:#888;font-weight:300;margin-top:2em;}
.section-body ul{list-style-type:none;padding:0;}
.section-body ul li{background-repeat:no-repeat;background-position:0 4px;padding-left:1em;margin:0.4em 0;-webkit-transition:all 0.2s linear;-moz-transition:all 0.2s linear;-o-transition:all 0.2s linear;transition:all 0.2s linear;}
.section-body ul li:hover{background-position:3px 4px;}
.section-body ul li a{text-decoration:none;}
.section-body ul li a:hover{text-decoration:underline;}
.section-body ol{padding:0;margin:1.5em 40px;}
.section-body ol li{margin:0.5em 0;}
.section-body table{border:1px solid #eee;font-size:0.9em;}
.section-body table td,.section-body table th{padding:0.5em 1em;text-align:left;}
.section-body table th{background-color:#5889C5;color:#fff;}
.section-body table td{font-weight:300;}
.section-body table tr{border-bottom:1px solid #f0f0f0;}
            </style>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    </body>
</html>
